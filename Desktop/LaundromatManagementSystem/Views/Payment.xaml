<!-- Method-Specific Content -->
<ContentView>

        <ContentView.Resources>
                <converters:InvertBooleanConverter x:Key="InvertBooleanConverter"/>
                <converters:StringEqualsConverter x:Key="StringEqualsConverter"/>

                <Style TargetType="Button">
                        <Setter Property="FontSize"
                                Value="16"/>
                        <Setter Property="FontAttributes"
                                Value="Bold"/>
                        <Setter Property="CornerRadius"
                                Value="8"/>
                        <Setter Property="HeightRequest"
                                Value="56"/>
                </Style>
        </ContentView.Resources>

        <!-- Cash Payment -->
        <VerticalStackLayout Spacing="20"
                             IsVisible="{Binding SelectedMethod, Converter={StaticResource StringEqualsConverter}, ConverterParameter=Cash}">

                <!-- Two Column Layout -->
                <Grid ColumnDefinitions="*, 16, *"
                      ColumnSpacing="0">

                        <!-- Left Column - Amounts -->
                        <VerticalStackLayout Grid.Column="0"
                                             Spacing="16">

                                <!-- Total Amount -->
                                <VerticalStackLayout Spacing="8">
                                        <Label Text="{Binding TotalLabel}"
                                               FontSize="16"
                                               FontAttributes="Bold"
                                               TextColor="{Binding TextColor}"/>

                                        <Border Stroke="{Binding AmountBorderColor}"
                                                StrokeThickness="2"
                                                StrokeShape="RoundRectangle 8"
                                                BackgroundColor="{Binding AmountBackgroundColor}"
                                                HeightRequest="56"
                                                Padding="12">
                                                <Label Text="{Binding Total, StringFormat='{0:N0} RWF'}"
                                                       FontSize="18"
                                                       FontAttributes="Bold"
                                                       TextColor="#F59E0B"
                                                       HorizontalOptions="Center"
                                                       VerticalOptions="Center"/>
                                        </Border>
                                </VerticalStackLayout>

                                <!-- Cash Received -->
                                <VerticalStackLayout Spacing="8">
                                        <Label Text="{Binding ReceivedLabel}"
                                               FontSize="16"
                                               FontAttributes="Bold"
                                               TextColor="{Binding TextColor}"/>

                                        <Border Stroke="{Binding InputBorderColor}"
                                                StrokeThickness="2"
                                                StrokeShape="RoundRectangle 8"
                                                BackgroundColor="{Binding InputBackgroundColor}"
                                                HeightRequest="56">
                                                <Label Text="{Binding CashReceived, StringFormat='{0:N0}'}"
                                                       FontSize="18"
                                                       FontAttributes="Bold"
                                                       TextColor="{Binding TextColor}"
                                                       HorizontalOptions="Center"
                                                       VerticalOptions="Center"/>
                                        </Border>
                                </VerticalStackLayout>

                                <!-- Change Due -->
                                <VerticalStackLayout Spacing="8">
                                        <Label Text="{Binding ChangeLabel}"
                                               FontSize="16"
                                               FontAttributes="Bold"
                                               TextColor="{Binding TextColor}"/>

                                        <Border Stroke="#10B981"
                                                StrokeThickness="2"
                                                StrokeShape="RoundRectangle 8"
                                                BackgroundColor="#D1FAE5"
                                                HeightRequest="56"
                                                Padding="12">
                                                <Label Text="{Binding Change, StringFormat='{0:N0} RWF'}"
                                                       FontSize="18"
                                                       FontAttributes="Bold"
                                                       TextColor="#10B981"
                                                       HorizontalOptions="Center"
                                                       VerticalOptions="Center"/>
                                        </Border>
                                </VerticalStackLayout>

                        </VerticalStackLayout>

                        <!-- Spacer -->
                        <BoxView Grid.Column="1"
                                 WidthRequest="0"/>

                        <!-- Right Column - Number Pad -->
                        <Grid Grid.Column="2"
                              ColumnDefinitions="*, 4, *, 4, *"
                              RowDefinitions="*, 4, *, 4, *, 4, *"
                              ColumnSpacing="0"
                              RowSpacing="0"
                              HeightRequest="240">

                                <!-- Row 1 -->
                                <Button Grid.Row="0"
                                        Grid.Column="0"
                                        Text="1"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="1"/>

                                <Button Grid.Row="0"
                                        Grid.Column="2"
                                        Text="2"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="2"/>

                                <Button Grid.Row="0"
                                        Grid.Column="4"
                                        Text="3"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="3"/>

                                <!-- Row 2 -->
                                <Button Grid.Row="2"
                                        Grid.Column="0"
                                        Text="4"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="4"/>

                                <Button Grid.Row="2"
                                        Grid.Column="2"
                                        Text="5"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="5"/>

                                <Button Grid.Row="2"
                                        Grid.Column="4"
                                        Text="6"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="6"/>

                                <!-- Row 3 -->
                                <Button Grid.Row="4"
                                        Grid.Column="0"
                                        Text="7"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="7"/>

                                <Button Grid.Row="4"
                                        Grid.Column="2"
                                        Text="8"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="8"/>

                                <Button Grid.Row="4"
                                        Grid.Column="4"
                                        Text="9"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="9"/>

                                <!-- Row 4 -->
                                <Button Grid.Row="6"
                                        Grid.Column="0"
                                        Text="0"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="0"/>

                                <Button Grid.Row="6"
                                        Grid.Column="2"
                                        Text="00"
                                        BackgroundColor="{Binding ButtonBackgroundColor}"
                                        TextColor="{Binding ButtonTextColor}"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="00"/>

                                <Button Grid.Row="6"
                                        Grid.Column="4"
                                        Text="Clear"
                                        BackgroundColor="#EF4444"
                                        TextColor="White"
                                        Command="{Binding AddToCashCommand}"
                                        CommandParameter="Clear"/>

                        </Grid>

                </Grid>

        </VerticalStackLayout>

        <!-- Mobile Money Payment -->
        <VerticalStackLayout Spacing="24"
                             HorizontalOptions="Center"
                             VerticalOptions="Center"
                             IsVisible="{Binding SelectedMethod, Converter={StaticResource StringEqualsConverter}, ConverterParameter=MoMo}">

                <Label Text="ðŸ“±"
                       FontSize="64"
                       TextColor="#3B82F6"
                       HorizontalOptions="Center"/>

                <Label Text="{Binding MoMoLabel}"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="#3B82F6"
                       HorizontalOptions="Center"/>

                <Label Text="{Binding Total, StringFormat='{0:N0} RWF'}"
                       FontSize="28"
                       FontAttributes="Bold"
                       TextColor="#3B82F6"
                       HorizontalOptions="Center"/>

                <Label Text="{Binding MoMoInstruction}"
                       FontSize="14"
                       TextColor="{Binding SubtitleColor}"
                       HorizontalOptions="Center"
                       VerticalTextAlignment="Center"/>

        </VerticalStackLayout>

        <!-- Card Payment -->
        <VerticalStackLayout Spacing="24"
                             HorizontalOptions="Center"
                             VerticalOptions="Center"
                             IsVisible="{Binding SelectedMethod, Converter={StaticResource StringEqualsConverter}, ConverterParameter=Card}">

                <Label Text="ðŸ’³"
                       FontSize="64"
                       TextColor="#F59E0B"
                       HorizontalOptions="Center"/>

                <Label Text="{Binding CardLabel}"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="#F59E0B"
                       HorizontalOptions="Center"/>

                <Label Text="{Binding Total, StringFormat='{0:N0} RWF'}"
                       FontSize="28"
                       FontAttributes="Bold"
                       TextColor="#F59E0B"
                       HorizontalOptions="Center"/>

                <Label Text="{Binding CardLabel}"
                       FontSize="14"
                       TextColor="{Binding SubtitleColor}"
                       HorizontalOptions="Center"
                       VerticalTextAlignment="Center"/>

        </VerticalStackLayout>
</ContentView>